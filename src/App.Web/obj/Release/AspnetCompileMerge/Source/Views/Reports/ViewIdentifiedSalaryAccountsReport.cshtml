@*@model List<App.DataModels.Models.SalProfiling>*@

@{
    ViewBag.Title = "View Identified Salary Accounts Report";
}

<div class="row mb-4">
    <div class="col-12 d-flex align-items-center justify-content-between">
        <h5 class="page-title">
            View Identified Salary Accounts Report
        </h5>
    </div>
</div>
<div class="row">
    <div class="col-md-12 grid-margin stretch-card">
        <div class="card">
            <div class="card-body">

                @if (TempData["Alert"] != null)
                {
                    @Html.Partial("_Alert", TempData["Alert"])
                }

                <table id="IdentifiedSalaryAccountsTable" class="table table-hover table-borderless table-responsive" width="100%">
                    <thead>
                        <tr>
                            @*<th><strong>SN</strong></th>*@
                            <th><strong>Account Number</strong></th>
                            <th><strong>Lastname</strong></th>
                            <th><strong>Firstname</strong></th>
                            <th><strong>Middlename</strong></th>
                            <th><strong>Most Freq. Narration</strong></th>
                            <th><strong>Most Freq. Trans. Date</strong></th>
                            <th><strong>Src</strong></th>
                            <th><strong>Inserted Date</strong></th>
                            <th><strong>Is Valid BVN</strong></th>
                            <th><strong>BVN Check Date</strong></th>
                            <th><strong>Is Valid CRMS</strong></th>
                            <th><strong>CRMS Check Date</strong></th>
                            <th><strong>Is Valid CRC</strong></th>
                            <th><strong>CRC Check Date</strong></th>
                            <th><strong>Account Status</strong></th>
                        </tr>
                    </thead>

                    @*  <tbody>
                @if (Model != null && Model.Count > 0)
                {
                    var sn = 1;

                    foreach (var item in Model)
                    {
                <tr>
                    <td>@(sn++).</td>
                    <td>@item.Foracid</td>
                    <td>@item.LastName</td>
                    <td>@item.FirstName</td>
                    <td>@item.Middlename</td>
                    <td>@item.MostFreqNarr</td>
                    <td>@item.MostFreqTranDate</td>
                    <td>@item.Src</td>
                    <td>@item.InsertedDate</td>
                    <td>@item.IsValidBvn</td>
                    <td>@item.BvnCheckDate</td>
                    <td>@item.IsValidCRMS</td>
                    <td>@item.CRMSCheckDate</td>
                    <td>@item.IsValidCRC</td>
                    <td>@item.CRCSCheckDate</td>
                    <td>@item.AccountStatus</td>
                </tr>
                    }
                }
            </tbody>
                    *@

                </table>
                @*<div style="width:100%; margin:0 auto;">

        </div>*@
            </div>
        </div>
    </div>
</div>

@section CustomScripts
{
    <script src="@Url.Content("~/Scripts/dataTables.buttons.min.js")"></script>
    <script src="@Url.Content("~/Scripts/jszip.min.js")"></script>
    <script src="@Url.Content("~/Scripts/pdfmake.min.js")"></script>
    <script src="@Url.Content("~/Scripts/vfs_fonts.js")"></script>
    <script src="@Url.Content("~/Scripts/buttons.html5.min.js")"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('#IdentifiedSalaryAccountsTable').DataTable({
                "processing": true, // for show progress bar
                "serverSide": true, // for process server side
                "filter": true, // this is for disable filter (search box)
                "orderMulti": false, // for disable multiple column at once
                "pageLength": 100000,

                "ajax": {
                    "url": "@Url.Action("LoadIdentifiedSalaryAccounts", "Reports", new { q = ViewBag.q })",
                    "type": "POST",
                    "contentType": "application/x-www-form-urlencoded; charset=utf-8",
                    "datatype": "json",
                },

                "columns": [
                    { "data": "Foracid", "autoWidth": true },
                    { "data": "LastName", "autoWidth": true },
                    { "data": "FirstName", "autoWidth": true },
                    { "data": "Middlename", "autoWidth": true },
                    { "data": "MostFreqNarr", "autoWidth": true },
                    { "data": "MostFreqTranDate", "autoWidth": true },
                    { "data": "Src", "autoWidth": true },
                    { "data": "InsertedDate", "autoWidth": true },
                    { "data": "IsValidBvn", "autoWidth": true },
                    { "data": "BvnCheckDate", "autoWidth": true },
                    { "data": "IsValidCRMS", "autoWidth": true },
                    { "data": "CRMSCheckDate", "autoWidth": true },
                    { "data": "IsValidCRC", "autoWidth": true },
                    { "data": "CRCSCheckDate", "autoWidth": true },
                    { "data": "AccountStatus", "autoWidth": true }],

                "ordering": false,
                "dom": 'Bfrtip',
                "buttons": [
                    /*'copyHtml5',*/
                    'excelHtml5',
                    'csvHtml5',
                    /*'pdfHtml5'*/
                ],
            });
        });
    </script>

}

