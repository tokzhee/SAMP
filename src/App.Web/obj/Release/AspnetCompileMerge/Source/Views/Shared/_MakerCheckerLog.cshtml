@using App.Core.BusinessLogic
@using Newtonsoft.Json
@using App.DataModels.Models
@model App.Web.Models.MakerCheckerLogModel


<div class="form-group">
    <label>
        Action
    </label>
    <label class="form-control input-sm">
        @Model.ActionName
    </label>
</div>
<div class="form-group">
    <label for="">
        Details
    </label>
    @{
        var actionDetails = Model.ActionDetails.Split('|');
    }

    @if (actionDetails.Length > 0)
    {
        <label class="form-control input-sm">
            <ol>
                @for (int i = 0; i < actionDetails.Length; i++)
                {
                    <li>
                        @actionDetails[i]
                    </li>
                }
            </ol>
        </label>
    }
    else
    {
        <label class="form-control input-sm">
            @actionDetails
        </label>
    }
</div>
@if (Model.MakerCheckerTypeId.Equals(Convert.ToString((int)MakerCheckerType.CreateNewFintechProfile)) || Model.MakerCheckerTypeId.Equals(Convert.ToString((int)MakerCheckerType.EditExistingFintechProfile)))
{
    var actionData = JsonConvert.DeserializeObject<fintech>(Model.ActionData);
    <div class="form-group">
        <label>
            Corporate Name
        </label>
        <label class="form-control input-sm">
            @actionData.corporate_name
        </label>
    </div>
    <div class="form-group">
        <label>
            Official Email Address
        </label>
        <label class="form-control input-sm">
            @actionData.official_email_address
        </label>
    </div>
    <div class="form-group">
        <label>
            Head Office Address
        </label>
        <label class="form-control input-sm">
            @actionData.head_office_address
        </label>
    </div>
    <div class="form-group">
        <label>
            Account Number
        </label>
        <label class="form-control input-sm">
            @actionData.account_number
        </label>
    </div>
    <div class="form-group">
        <label>
            Account Name
        </label>
        <label class="form-control input-sm">
            @actionData.account_name
        </label>
    </div>
    <div class="form-group">
        <label>
            Finacle Term ID
        </label>
        <label class="form-control input-sm">
            @actionData.finacle_term_id
        </label>
    </div>
    <div class="form-group">
        <label>
            Fee Scale
        </label>
        <label class="form-control input-sm">
            @actionData.fee_scale
        </label>
    </div>
    <div class="form-group">
        <label>
            Scale Value
        </label>
        <label class="form-control input-sm">
            @actionData.scale_value
        </label>
    </div>
    <div class="form-group">
        <label>
            Cap Amount
        </label>
        <label class="form-control input-sm">
            @actionData.cap_amount
        </label>
    </div>
    <div class="form-group">
        <p>
            <label>
                Relationship Manager
            </label>
            <table class="table table-condensed table-sm table-responsive">
                <thead>
                    <tr>
                        <th><strong>Staff ID</strong></th>
                        <th><strong>Surname</strong></th>
                        <th><strong>Firstname</strong></th>
                        <th><strong>Middlename</strong></th>
                        <th><strong>Email Address</strong></th>
                        <th><strong>Sol ID</strong></th>
                        <th><strong>Sol Name</strong></th>
                        <th><strong>Sol Address</strong></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            @actionData.relationship_manager_staff_id
                        </td>
                        <td>
                            @actionData.person.surname
                        </td>
                        <td>
                            @actionData.person.first_name
                        </td>
                        <td>
                            @actionData.person.middle_name
                        </td>
                        <td>
                            @actionData.person.email_address
                        </td>
                        <td>
                            @actionData.relationship_manager_sol_id
                        </td>
                        <td>
                            @actionData.relationship_manager_sol_name
                        </td>
                        <td>
                            @actionData.relationship_manager_sol_address
                        </td>
                    </tr>
                </tbody>
            </table>
        </p>
        <br />
        <p>
            <label>
                On-Boarding Documents
            </label>
            @if (actionData.fintechonboardingdocuments != null && actionData.fintechonboardingdocuments.Count() > 0)
            {
                <table class="table table-condensed table-sm table-responsive">
                    <thead>
                        <tr>
                            <th><strong>#</strong></th>
                            <th><strong>Document Name</strong></th>
                            <th>&nbsp;</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (int i = 0; i < actionData.fintechonboardingdocuments.ToList().Count; i++)
                        {
                            <tr>
                                <td>
                                    @(i + 1).
                                </td>
                                <td>
                                    @CacheData.Onboardingdocuments.FirstOrDefault(c => c.id.Equals(actionData.fintechonboardingdocuments.ToList()[i].document_id)).document_name
                                </td>
                                <td>
                                    @if (!string.IsNullOrEmpty(actionData.fintechonboardingdocuments.ToList()[i].document_save_path))
                                    {
                                        <a href="@Url.Content(actionData.fintechonboardingdocuments.ToList()[i].document_save_path)" target="_blank">
                                            view document
                                        </a>
                                    }
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
        </p>
        @*<br />
            <p>
                <label>
                    Contact Persons
                </label>
                @if (actionData.fintechcontactpersons != null && actionData.fintechcontactpersons.ToList().Count > 0)
                {
                    <table class="table table-condensed table-sm table-responsive">
                        <thead>
                            <tr>
                                <th><strong>#</strong></th>
                                <th><strong>Surname</strong></th>
                                <th><strong>Firstname</strong></th>
                                <th><strong>Middlename</strong></th>
                                <th><strong>Mobile Number</strong></th>
                                <th><strong>Email Address</strong></th>
                            </tr>
                        </thead>
                        <tbody>
                            @for (int i = 0; i < actionData.fintechcontactpersons.ToList().Count; i++)
                            {
                                <tr>
                                    <td>
                                        @(i + 1).
                                    </td>
                                    <td>
                                        @actionData.fintechcontactpersons.ToList()[i].person.surname
                                    </td>
                                    <td>
                                        @actionData.fintechcontactpersons.ToList()[i].person.first_name
                                    </td>
                                    <td>
                                        @actionData.fintechcontactpersons.ToList()[i].person.middle_name
                                    </td>
                                    <td>
                                        @actionData.fintechcontactpersons.ToList()[i].person.mobile_number
                                    </td>
                                    <td>
                                        @actionData.fintechcontactpersons.ToList()[i].person.email_address
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                }
            </p>*@
    </div>
}
@if (Model.MakerCheckerTypeId.Equals(Convert.ToString((int)MakerCheckerType.ProfileIdentifiedSalaryAccount)))
{
    var actionData = JsonConvert.DeserializeObject<salaryaccountsracprofiling>(Model.ActionData);
    <div class="form-group">
        <label>
            Account Number
        </label>
        <label class="form-control input-sm">
            @actionData.salaryaccount.account_number
        </label>
    </div>
    
    <div class="form-group">
        <p>
            <label>
                Salary Payment History
            </label>
            @if (actionData.salarypaymenthistory != null && actionData.salarypaymenthistory.Count() > 0)
            {
                <table class="table table-condensed table-sm table-responsive">
                    <thead>
                        <tr>
                            <th><strong>#</strong></th>
                            <th><strong>Month</strong></th>
                            <th><strong>Amount (Naira)</strong></th>
                            <th><strong>Payment Evidence</strong></th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (int i = 0; i < actionData.salarypaymenthistory.ToList().Count; i++)
                        {
                            <tr>
                                <td>
                                    @(i + 1).
                                </td>
                                <td>
                                    @actionData.salarypaymenthistory.ToList()[i].month
                                </td>
                                <td>
                                    @actionData.salarypaymenthistory.ToList()[i].amount
                                </td>
                                <td>
                                    @if (!string.IsNullOrEmpty(actionData.salarypaymenthistory.ToList()[i].evidence_save_path))
                                    {
                                        <a href="@Url.Content(actionData.salarypaymenthistory.ToList()[i].evidence_save_path)" target="_blank">
                                            view
                                        </a>
                                    }
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
        </p>
    </div>
}
<div class="form-group">
    <label for="">
        Maker Id
    </label>
    <label class="form-control input-sm">
        @Model.MakerId
    </label>
</div>
<div class="form-group">
    <label for="">
        Maker Fullname
    </label>
    <label class="form-control input-sm">
        @Model.MakerFullname
    </label>
</div>
<div class="form-group">
    <label for="">
        Maker SolId
    </label>
    <label class="form-control input-sm">
        @Model.MakerSolId
    </label>
</div>
<div class="form-group">
    <label for="">
        Remarks
    </label>
    @Html.TextAreaFor(model => model.CheckerRemarks, new { @class = "form-control input-sm" })
</div>
<div class="form-group">
    @Html.HiddenFor(model => model.QueryString)
</div>
